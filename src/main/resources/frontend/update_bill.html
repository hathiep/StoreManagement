<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All Products</title>
    <link type="text/css" href="files/css/bill.css" rel="stylesheet" />
    <link type="text/css" href="files/css/main.css" rel="stylesheet" />

</head>

<body>
    <!--HEADER-->
    <div class="header">
        <h1>QUẢN LÝ CỬA HÀNG</h1>
        <div class="logout" style="display: flex">
            <div style="margin-top: 15px">Xin chào :</div> &nbsp; &nbsp; <b><div id="user-info"></div></b> &nbsp; &nbsp;<div style="margin-top: 14px">| <a onclick="Logout()" title="Log out">Log out</a></div>
        </div>
        <!--NAVIGATION BAR-->
        <ul class="navigation">
            <a href="product.html" title="Quản lý sản phẩm">
                <li>Quản lý sản phẩm</li>
            </a>
            <a href="bill.html" title="Nhập hàng" class="navigation-item-selected">
                <li>Quản lý hóa đơn nhập</li>
            </a>
            <a href="createSupplier.html" title="Thêm nhà cung cấp">
                <li>Thêm nhà cung cấp</li>
            </a>
        </ul>
        <!--NAVIGATION BAR-->
    </div>

    <p style="font-size: 20px; font-weight: 500; margin-left: 5%; text-align: left" class="select-product">Sửa hoá đơn nhập</p>

    <div style="margin-left:5%" class="dropdown">
        <input class="timkiem" type="text" id="searchInputSupplier" placeholder="Search supplier...">
        <div id="supplierDropdown" class="dropdown-content"></div>
    </div>
    <div class="show-supplier">
        <p>Nhà cung cấp : </p>
        <p id="supplierInfo"></p>
    </div>

    <table id="itemTableBody">
        <thead>
            <tr>
                <th>ID</th>
                <th>BillId</th>
                <th>ProductName</th>
                <th>Quantity</th>
                <th>Price</th>

            </tr>
        </thead>
        <tbody id="selectedProductTableBody">
            <!-- Selected product rows will be displayed here -->
        </tbody>
    </table>

    <button class="save" onclick="saveChanges()">Save</button>

    <!--FOOTER-->
    <div class="footer">
        <p><b>Web quản lý nhà hàng</b></p>
        <span style="line-height:18px;">
      <b>Người thực hiện:</b><br/>
      GR_20<br/>
  </span>
    </div>

    <script src="files/js/update_bill.js"></script>

    <script>
        // Phân tích chuỗi URL để lấy tham số 'billId'
        var url = new URL(window.location.href);
        var id = url.searchParams.get("billId");
        var supplierName = url.searchParams.get("supplierName");

        // Gọi hàm getAllItem() khi trang được tải
        window.onload = function() {
            getAllItem(id, supplierName);
            getAllSupplier();
        };
    </script>
    <!--END FOOTER-->
</body>
<script src="files/js/login.js"></script>
</html>